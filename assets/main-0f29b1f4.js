var d=(s,i,e)=>{if(!i.has(s))throw TypeError("Cannot "+e)};var t=(s,i,e)=>(d(s,i,"read from private field"),e?e.call(s):i.get(s)),c=(s,i,e)=>{if(i.has(s))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(s):i.set(s,e)},p=(s,i,e,l)=>(d(s,i,"write to private field"),l?l.call(s,e):i.set(s,e),e);import{W as y,d as n,r as v,a as f}from"./index-56367448.js";var o;class k extends y{constructor(){super();c(this,o,void 0);this.activeGraphUUID=null,p(this,o,this.load.bind(this))}main(e){this.load(),n.on("file-written",t(this,o))}render(){return this.node("div",[this.node("div",["{files}"],{class:{value:"bg-zinc-800 p-2 w-full relative overflow-hidden border-2 border-zinc-950 flex flex-col",keys:[]}},["{files}"],"")],{class:{value:"w-full h-full flex flex-row",keys:[]}},[],"")}async load(){const{files:e}=this.key;e("");const l=await v();for(const r of l){const u=r.name.split(".").pop(),a=r.name.split(".").slice(0,-1).join("."),h=[["Type",r.type],["Name",a],["Extension",`.${u}`]];e(this.node("div",[...h.map(([m,x])=>this.node("div",[this.node("label",[m,":"],{class:{value:"font-bold inline-block min-w-16",keys:[]}},["{__CODE__0}"],""),this.node("label",[x],{},["{__CODE__1}"],"")],{class:{value:"space-x-1",keys:[]}},[],""))],{class:{value:"primary-btn flex flex-col p-2 rounded-md",keys:[]},onclick:{value:()=>this.openFile(a,r.name),keys:[]}},["{__CODE__1}"],""),"x++")}}destroy(){this.dispatcher.off("file-written",t(this,o)),super.destroy()}openFile(e,l){n.emit("open-workspace",e,l)}}o=new WeakMap;function b(){f.set(".*",k),n.emit("add-menu","explorer-menu","Explorer",{Open:()=>{n.emit("open-workspace","Explorer",".*")}}),console.warn("registered")}function E(){f.delete(".*"),n.emit("remove-menu","explorer-menu"),console.warn("unregistered")}export{b as register,E as unregister};
