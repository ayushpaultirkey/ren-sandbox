var d=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)};var a=(s,t,e)=>(d(s,t,"read from private field"),e?e.call(s):t.get(s)),h=(s,t,e)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},c=(s,t,e,i)=>(d(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e);import{W as y,d as n,r as k,a as p}from"./index-dd77522c.js";var o;class v extends y{constructor(){super();h(this,o,void 0);c(this,o,this.load.bind(this))}main(e){this.load(),n.on("file-written",a(this,o))}render(){return this.node("div",[this.node("div",[this.node("table",[this.node("thead",[this.node("tr",[this.node("th",["Name"],{},[],""),this.node("th",["Extension"],{class:{value:"table-fit",keys:[]}},[],""),this.node("th",["Type"],{class:{value:"table-fit",keys:[]}},[],"")],{},[],"")],{},[],""),this.node("tbody",[],{id:{value:"files",keys:[]}},[],"")],{class:{value:"explorer-table",keys:[]}},[],"")],{class:{value:"explorer-container",keys:[]}},[],"")],{class:{value:"project-workspace bg-zinc-800",keys:[]}},[],"")}async load(){const{files:e}=this.element;for(;e.firstChild;)e.removeChild(e.lastChild);const i=await k();for(const r of i){const f=r.name.split(".").pop(),l=r.name,m=r.type,u=r.name;e.append(this.node("tr",[this.node("th",[l],{},[],""),this.node("th",[".",f],{},[],""),this.node("th",[m],{},[],"")],{onclick:{value:()=>{this.openFile(l,u)},keys:[]}},[],""))}}destroy(){this.dispatcher.off("file-written",a(this,o)),super.destroy()}openFile(e,i){n.emit("open-workspace",e,i)}}o=new WeakMap;function b(){p.set(".*",v),n.emit("add-menu","explorer-menu","Explorer",{Open:()=>{n.emit("open-workspace","Explorer",".*")}}),console.warn("registered")}function g(){p.delete(".*"),n.emit("remove-menu","explorer-menu"),console.warn("unregistered")}export{b as register,g as unregister};
