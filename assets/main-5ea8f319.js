var c=(s,i,e)=>{if(!i.has(s))throw TypeError("Cannot "+e)};var l=(s,i,e)=>(c(s,i,"read from private field"),e?e.call(s):i.get(s)),d=(s,i,e)=>{if(i.has(s))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(s):i.set(s,e)},p=(s,i,e,o)=>(c(s,i,"write to private field"),o?o.call(s,e):i.set(s,e),e);import{W as x,d as r,r as k,a as f}from"./index-ed3cee85.js";var n;class v extends x{constructor(){super();d(this,n,void 0);this.activeGraphUUID=null,p(this,n,this.load.bind(this))}main(e){this.load(),r.on("file-written",l(this,n))}render(){return this.node("div",[this.node("div",["{files}"],{class:{value:"bg-zinc-800 p-2 w-full relative overflow-hidden border-2 border-zinc-950 flex flex-col space-y-1",keys:[]}},["{files}"],"")],{class:{value:"project-workspace",keys:[]}},[],"")}async load(){const{files:e}=this.key;e("");const o=await k();for(const t of o){const u=t.name.split(".").pop(),a=t.name.split(".").slice(0,-1).join("."),h=[["Type",t.type],["Name",a],["Extension",`.${u}`]];e(this.node("div",[...h.map(([m,y])=>this.node("div",[this.node("label",[m,":"],{class:{value:"font-bold inline-block min-w-16",keys:[]}},[],""),this.node("label",[y],{},[],"")],{class:{value:"space-x-1",keys:[]}},[],""))],{class:{value:"primary-btn flex flex-col p-2 rounded-md",keys:[]},onclick:{value:()=>this.openFile(a,t.name),keys:[]}},[],""),"x++")}}destroy(){this.dispatcher.off("file-written",l(this,n)),super.destroy()}openFile(e,o){r.emit("open-workspace",e,o)}}n=new WeakMap;function g(){f.set(".*",v),r.emit("add-menu","explorer-menu","Explorer",{Open:()=>{r.emit("open-workspace","Explorer",".*")}}),console.warn("registered")}function E(){f.delete(".*"),r.emit("remove-menu","explorer-menu"),console.warn("unregistered")}export{g as register,E as unregister};
